# ============================================
# Variables d'environnement MassaCorp
# ============================================
# Copier vers .env et adapter les valeurs
# IMPORTANT: Ne jamais committer .env avec de vraies valeurs!

# ==========================================
# General
# ==========================================
ENV=development
LOG_LEVEL=INFO
TZ=Europe/Paris

# ==========================================
# PostgreSQL
# ==========================================
POSTGRES_DB=MassaCorp
POSTGRES_USER=massa
# SECURITE: Generer un mot de passe fort (>= 16 caracteres)
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_16_CHARS
DATABASE_URL=postgresql://massa:CHANGE_ME_STRONG_PASSWORD_16_CHARS@db:5432/MassaCorp

# ==========================================
# Serveur WireGuard
# ==========================================
WG_SERVER_URL=vpn.example.com
WG_LISTEN_PORT=51820
WG_NETWORK=10.10.0.0/24
WG_ALLOWED_IPS=10.10.0.0/24
WG_DNS=10.10.0.1
# SECURITE: Generer avec `wg genkey | tee privatekey | wg pubkey > publickey`
WG_SERVER_PUBLIC_KEY=CHANGE_ME_GENERATE_WITH_WG_GENKEY

# ==========================================
# Redis (rate limiting, cache, sessions)
# ==========================================
# SECURITE: Generer un mot de passe fort
REDIS_PASSWORD=CHANGE_ME_REDIS_STRONG_PASSWORD
REDIS_URL=redis://:CHANGE_ME_REDIS_STRONG_PASSWORD@redis:6379/0

# ==========================================
# API
# ==========================================
# SECURITE: Generer avec `python3 -c "import secrets; print(secrets.token_urlsafe(48))"`
JWT_SECRET=CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_48

# SECURITE: Generer avec `python3 -c "import secrets; print(secrets.token_urlsafe(32))"`
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_32

# ==========================================
# Securite
# ==========================================
STRICT_TRANSPORT=true
ACCESS_TOKEN_LIFETIME=900
REFRESH_TOKEN_LIFETIME=604800

# ==========================================
# SMTP / Email (pour notifications)
# ==========================================
SMTP_ENABLED=true

# --- Configuration DEVELOPPEMENT (mailhog) ---
# SMTP_HOST=mailhog
# SMTP_PORT=1025
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_USE_TLS=false
# SMTP_USE_SSL=false

# --- Configuration PRODUCTION (exemples) ---

# Option 1: AWS SES (recommande)
# SMTP_HOST=email-smtp.eu-west-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=AKIAXXXXXXXXXXXXXXXX
# SMTP_PASSWORD=CHANGE_ME_SES_SECRET
# SMTP_USE_TLS=true
# SMTP_USE_SSL=false

# Option 2: SendGrid
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=SG.CHANGE_ME_SENDGRID_API_KEY
# SMTP_USE_TLS=true
# SMTP_USE_SSL=false

# Option 3: Gmail (non recommande en prod - limites quotidiennes)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=CHANGE_ME_APP_PASSWORD
# SMTP_USE_TLS=true
# SMTP_USE_SSL=false

# Option 4: SMTP generique avec SSL (port 465)
# SMTP_HOST=mail.example.com
# SMTP_PORT=465
# SMTP_USER=user@example.com
# SMTP_PASSWORD=CHANGE_ME_PASSWORD
# SMTP_USE_TLS=false
# SMTP_USE_SSL=true

# Configuration active (dev par defaut)
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_TLS=false
SMTP_USE_SSL=false
SMTP_FROM_EMAIL=security@example.com
SMTP_FROM_NAME=MassaCorp Security
SMTP_TIMEOUT=10

# ==========================================
# Alertes (admin notifications)
# ==========================================
ALERT_WEBHOOK_URL=
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@example.com

# ==========================================
# OAuth Configuration
# ==========================================
OAUTH_ENABLED=false
OAUTH_FRONTEND_URL=http://localhost:3000

# Google OAuth (https://console.cloud.google.com/apis/credentials)
# SECURITE: Ne jamais committer les vraies valeurs!
GOOGLE_CLIENT_ID=CHANGE_ME_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=CHANGE_ME_GOOGLE_CLIENT_SECRET

# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=CHANGE_ME_GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET=CHANGE_ME_GITHUB_CLIENT_SECRET

# Facebook OAuth (https://developers.facebook.com/apps)
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# ==========================================
# CAPTCHA (anti-bot protection)
# ==========================================
# En dev: desactive
# En prod: OBLIGATOIRE - obtenir les cles sur https://www.google.com/recaptcha
CAPTCHA_ENABLED=false
CAPTCHA_PROVIDER=recaptcha
CAPTCHA_SITE_KEY=CHANGE_ME_RECAPTCHA_SITE_KEY
CAPTCHA_SECRET_KEY=CHANGE_ME_RECAPTCHA_SECRET_KEY
CAPTCHA_SCORE_THRESHOLD=0.5

# ==========================================
# Verification Email
# ==========================================
# En dev: desactive (pas de verification)
# En prod: RECOMMANDE - empeche les inscriptions avec faux emails
EMAIL_VERIFICATION_REQUIRED=false

# ==========================================
# CORS Configuration
# ==========================================
# En dev: localhost:3000
# En prod: domaines autorises separes par virgule (PAS de wildcard *)
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_ALL=false
CORS_ALLOW_CREDENTIALS=true
